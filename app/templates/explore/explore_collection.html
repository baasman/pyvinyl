{% extends "base.html" %}
{% block style %}
    <style>
        .row {
            text-align: center;
{#            display: inline-block;#}
        }

        .imgContainer {
            float: left;
            text-align: center;
            margin-right: 10px;
        }

        .imgGenreContainer {
            float: left;
            text-align: center;
            margin-right: 10px;
        }

        .imgTagContainer {
            float: left;
            text-align: center;
            margin-right: 10px;
        }

        #info_more {
            margin-left: 15px;
            margin-top: 65px;
            text-align: center;
        }

        .box {
            width: 150px;
            height: 150px;
            border: 3px solid black;
            line-height: 150px;
            padding: 10px;
            background-color: rgba(54, 60, 10, .3);
            word-break: break-all;
        }

        a {
            color: black;
        }

        #boxcaption {
            text-align: center;
            height: 300px;
            word-break: break-all;
        }

        #boxtext {
            text-align: center;
            word-break: break-all;
            word-wrap: break-word;
        }

        .imgGenreContainer p {
            display: inline-block;
            vertical-align: top;
        }

        .imgGenreContainer p {
            display: inline-block;
            vertical-align: top;
        }

        #thumb_image {
            width: 150px;
            height: 150px;
        }

    </style>
{% endblock %}
{% block content %}
    <div class="container">

        <div class="row" id="row_1">
            <strong><h3>MOST LISTENED TO ALBUMS</h3></strong>
            {% from "macros.html" import show_image %}
            </br>
                {% for image_file in images_to_display %}
                    <div class="imgContainer" id="top_albums">
                        {{ show_image(image_file, current_user.user, 'collection.album_page', caption=True) }}
                    </div>
                {% endfor %}
                <div class="imgContainer">
                    <a href="{{ url_for('explore.top_albums', username=current_user.user) }}">
                        <button id="info_more" type="button" class="btn btn-info">View all</button>
                    </a>
                    </div>

        </div>

        </br>
        <div class="row" id="row_2">
            <strong><h3>MOST LISTENED TO GENRES</h3></strong>
            </br>
                {% for genre in most_common_genres %}
                    <div class="imgGenreContainer" id="top_genres">
                        <a href="{{ url_for('explore.top_in_genre', username=current_user.user, genre=genre[0])}}">
                            <div class="box">
                                <p id="boxtext">{{ genre[0] }}: {{ genre[1] }} </p>
                            </div>
                        </a>
                    </div>
                {% endfor %}
                <div class="imgGenreContainer">
                    <a href="{{ url_for('explore.top_genres', username=current_user.user) }}">
                        <button id="info_more" type="button" class="btn btn-info">View all</button>
                    </a>
                </div>
        </div>

        </br>
        <div class="row" id="row_3">
            <strong><h3>MOST COMMON TAGS</h3></strong>
            </br>
                {% for tag in most_common_tags %}
                    <div class="imgTagContainer" id="top_tags">
                        <a href="{{ url_for('explore.top_in_tag', username=current_user.user, tag=tag['_id']) }}">
                            <div class="box">
                                <p id="boxtext">{{ tag['_id'] }}: {{ tag['count'] }} </p>
                            </div>
                        </a>
                    </div>
                {% endfor %}
                <div class="imgTagContainer">
                    <a href="{{ url_for('explore.top_tags', username=current_user.user) }}">
                        <button id="info_more" type="button" class="btn btn-info">View all</button>
                    </a>
                </div>

        </div>

    </div>
{% endblock %}

